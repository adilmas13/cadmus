<ng-container *ngIf="store.state$ | async as state">
  <div *ngIf="state.selectedNote">
    <div *ngIf="state.isDeleteMode"
         @heightAnim
         class="unable-to-delete-message"
    >to edit this note, you'll need to restore it
    </div>
    <div [class.locked]="state.selectedNote.locked || state.isDeleteMode"
         class="parent">
      <label style="height: 40px">
        <input (keyup)="store.onTitleTextChange($event)"
               *ngIf="state.selectedNote.isTitleVisible"
               [ngModel]="state.selectedNote.title"
               class="heading"
               placeholder="dump your title here :P"
        />
      </label>
      <label>
    <textarea (keyup)="store.onBodyTextChange($event)"
              [ngModel]="state.selectedNote.body"
              class="body"
              placeholder="write something awesome"></textarea>
      </label>

    </div>

    <div *ngIf="!state.isDeleteMode"
         [class.visible]="state.selectedNote.locked"
         class="lock-message">note is locked from editing
    </div>

    <app-icon (click)="store.toggleLock()"
              *ngIf="!state.isDeleteMode"
              @scaleAnim
              [icon]="state.selectedNote.locked ? 'block': 'unblock'"
              class="lock">
    </app-icon>

    <div (click)="store.toggleTitleVisibility()"
         (mouseenter)="isHeadlineButtonVisible = true"
         (mouseout)="isHeadlineButtonVisible = false"
         class="h-btn">{{state.selectedNote.isTitleVisible ? "h-" : "h+"}}</div>

    <div [class.visible]="isHeadlineButtonVisible"
         class="h-btn-msg">{{state.selectedNote.isTitleVisible ? "hide title" : "show title"}}</div>
  </div>
</ng-container>
